<!DOCTYPE html>
<html>
    <head>
        <title>teamSpring</title>
        <meta charset="UTF-8">

        <!-- jquery -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>        

        <!-- bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="../css/spring.css">
    </head>
    <body>
        <input type="button" value="수정" id="update">


        <script type="text/javascript" src="../js/env.js"></script>
        <script type="module">
            // Firebase SDK 라이브러리 가져오기
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
            import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
            import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
            import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
            import { doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
            
            // Firebase 구성 정보 설정
            const firebaseConfig = {
                    // apiKey: FIREBASE_API_KEY,
                // authDomain: "sparta1004-team6.firebaseapp.com",
                // projectId: "sparta1004-team6",
                // storageBucket: "sparta1004-team6.appspot.com",
                // messagingSenderId: FIREBASE_MESSAGINGSENDER_ID,
                // appId: FIREBASE_APP_ID,
                // measurementId: FIREBASE_MESUREMENT_ID
            };

            // Firebase 인스턴스 초기화
            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);

            $(document).ready(async function() {
                let docs = await getDocs(collection(db, "introduce"));
                docs.forEach((doc) => {
                    let row = doc.data();
                    console.log(row);
                });
            })

            $('#update').click(async function(){
                await updateDoc(doc(db, "introduce", "uj4Zw8Yn3fmoaF4BLlLb"), {
                    image: "image",
                    name: "수정"
                });
                window.location.reload();
            });
        </script>
    </body>
</html>